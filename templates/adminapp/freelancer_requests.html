{% extends "adminapp/master.html" %}
{% load static %}
{% block content %}


  <main id="main" class="main">

    <div class="pagetitle">
      <h1>Manage Freelancer</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
          <li class="breadcrumb-item">Manage Freelancer</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section">
      <div class="row">
        <div class="col-lg-10">

          <div class="card">
            <div class="card-body">
              <h5 class="card-title fs-3">Freelancer Management</h5>

              <!-- Default Table -->
              <table class="table">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Username</th>
                        <th scope="col">Contact</th>
                        <th scope="col">Gender</th>
                        <th scope="col">Image</th>
                        <th scope="col">Status</th>
                        <th scope="col">Action</th>
                      </tr>
                </thead>
                <tbody>
                {% for i in users %}
                    <tr>
                        <td>{{forloop.counter}}</td>
                        <td>{{i.username}}</td>
                        <td>{{i.contact}}</td>
                        <td>{{i.gender}}</td>
                        <td>{% if i.gender %}<img src="{{i.image.url}}" height="100px" width="100px">{% else %} No Photo {% endif %}</td>
                        <td>{% if i.is_active %} Approved {% else %} Not Approved {% endif %}</td>
                        <td>
                          <a href="{% url 'approve_freelancer' i.id %}" onclick="return showApprovePopup();">
                            <button type="button" class="btn btn-primary">Approve</button>
                          </a>
                          <a href="{% url 'reject_freelancer' i.id %}" onclick="return showRejectPopup();">
                            <button type="button" class="btn btn-danger">Reject</button>
                          </a>
                          
                        </td> 
                    </tr>
                {% endfor %}
               </tbody>
              </table>
              <!-- End Default Table Example -->
            </div>
          </div>
        </div>

      </div>
      <script>
        function showApprovePopup() {
          alert("Freelancer approved successfully!");
          return true; // continue with the link
        }
      
        function showRejectPopup() {
          alert("Freelancer rejected.");
          return true; // continue with the link
        }
      </script>
      
    </section>


  </main><!-- End #main -->

  {% endblock %}